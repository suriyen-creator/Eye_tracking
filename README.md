# Eye_tracking

р╣Др╕Фр╣Йр╣Ар╕ер╕вр╕Др╕гр╕▒р╕Ъ ЁЯЩМ р╕Ьр╕бр╕Ир╕░р╣Ар╕Вр╕╡р╕вр╕Щ **README.md** р╣Гр╕лр╣Йр╣Ар╕лр╕бр╕▓р╕░р╕Бр╕▒р╕Ър╣Вр╕Ыр╕гр╣Ар╕Ир╣Зр╕Бр╕Хр╣М *тАЬGaze + Object Tracking and RecognitionтАЭ* р╕Чр╕╡р╣Ир╣Ар╕гр╕▓р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕Бр╕▒р╕Щр╣Др╕Ы р╣Вр╕Фр╕вр╕Ир╕░р╕бр╕╡р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Др╕гр╕Ъ р╣Ар╕Кр╣Ир╕Щ р╣Ар╕зр╕нр╕гр╣Мр╕Кр╕▒р╕Щ Python, р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З, р╕зр╕┤р╕Шр╕╡р╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Х, р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ, р╣Бр╕ер╕░р╕Вр╣Йр╕нр╕Др╕зр╕гр╕Чр╕гр╕▓р╕Ъ

---

````markdown
# ЁЯСБя╕П Gaze + Object Tracking & Recognition

р╣Вр╕Ыр╕гр╣Ар╕Ир╣Зр╕Бр╕Хр╣Мр╕Щр╕╡р╣Йр╕Чр╕│р╣Гр╕лр╣Йр╕Др╕нр╕бр╕Юр╕┤р╕зр╣Ар╕Хр╕нр╕гр╣Мр╕кр╕▓р╕бр╕▓р╕гр╕Ц **р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Бр╕ер╕░р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕зр╕▒р╕Хр╕Цр╕╕** р╣Гр╕Щр╕ар╕▓р╕Ю р╕Юр╕гр╣Йр╕нр╕бр╕Чр╕▒р╣Йр╕Зр╣Гр╕Кр╣Й **Eye/Gaze Tracking** р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╕бр╕нр╕Зр╕зр╕▒р╕Хр╕Цр╕╕р╣Гр╕Фр╕нр╕вр╕╣р╣И р╣Бр╕ер╕░р╕Ър╕нр╕Бр╣Др╕Фр╣Йр╕зр╣Ир╕▓р╕зр╕▒р╕Хр╕Цр╕╕р╕Щр╕▒р╣Йр╕Щр╕Др╕╖р╕нр╕нр╕░р╣Др╕г  

- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕Фр╣Йр╕зр╕в **YOLOv8**  
- р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▓р╕б (tracking) р╕Фр╣Йр╕зр╕в **DeepSORT/ByteTrack**  
- р╣Гр╕Кр╣Й **MediaPipe FaceMesh + Iris** р╣Ар╕Юр╕╖р╣Ир╕нр╕лр╕▓р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕Зр╕Хр╕▓р╕Фр╕│р╣Бр╕ер╕░р╕Др╕│р╕Щр╕зр╕У gaze  
- р╕кр╕▓р╕бр╕▓р╕гр╕Ц **р╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Х 9 р╕Ир╕╕р╕Ф** р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│р╕Вр╕нр╕З gaze-to-screen mapping  

---

## ЁЯФз Requirements

- **Python**: 3.9 тАУ 3.11 (р╣Бр╕Щр╕░р╕Щр╕│ Python 3.10)  
- р╕гр╕░р╕Ър╕Ър╕Ыр╕Пр╕┤р╕Ър╕▒р╕Хр╕┤р╕Бр╕▓р╕г: Windows / Linux / macOS  
- **Dependencies** (р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Ьр╣Ир╕▓р╕Щ `pip`):
  - `opencv-python`
  - `mediapipe`
  - `ultralytics`
  - `numpy`
  - `scikit-learn`
  - `filterpy`
  - `joblib`

> р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Фр╣Др╕Фр╣Йр╕Ир╕▓р╕Бр╣Др╕Яр╕ер╣М `requirements.txt`

---

## ЁЯУж Installation

1. р╕кр╕гр╣Йр╕▓р╕З Virtual Environment  
   ```bash
   python -m venv venv
   source venv/bin/activate   # Linux / macOS
   venv\Scripts\activate      # Windows
````

2. р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З dependencies

   ```bash
   pip install -r requirements.txt
   ```

3. р╕Фр╕▓р╕зр╕Щр╣Мр╣Вр╕лр╕ер╕Ф weight р╕Вр╕нр╕З YOLOv8 (Ultralytics р╕Ир╕░р╣Вр╕лр╕ер╕Фр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕нр╕гр╕▒р╕Щр╕Др╕гр╕▒р╣Йр╕Зр╣Бр╕гр╕Б)

---

## ЁЯОп Calibration (р╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Хр╕кр╕▓р╕вр╕Хр╕▓)

р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕гр╕░р╕Ър╕Ър╕гр╕╣р╣Йр╕зр╣Ир╕▓р╕Хр╕▓р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Бр╕│р╕ер╕▒р╕Зр╕бр╕нр╕Зр╕Хр╕гр╕Зр╣Др╕лр╕Щр╕Ър╕Щр╕лр╕Щр╣Йр╕▓р╕Ир╕н р╕Хр╣Йр╕нр╕Зр╕Чр╕│р╕Бр╕▓р╕гр╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Х:

```bash
python -m gaze.calibrate
```

* р╕Ир╕░р╕бр╕╡р╕Ир╕╕р╕Фр╕Вр╕╢р╣Йр╕Щр╕бр╕▓ 9 р╕Ир╕╕р╕Ф (3├Ч3 grid) р╕Ър╕Щр╕лр╕Щр╣Йр╕▓р╕Ир╕н
* р╕бр╕нр╕Зр╕Ир╕╕р╕Фр╣Бр╕Хр╣Ир╕ер╕░р╕Ир╕╕р╕Фр╕Хр╕▓р╕бр╕Чр╕╡р╣Ир╕Вр╕╢р╣Йр╕Щр╕бр╕▓ 0.5тАУ1 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
* р╣Ар╕бр╕╖р╣Ир╕нр╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Вр╕бр╣Ар╕Фр╕е mapping р╕ер╕Зр╕Чр╕╡р╣И `data/gaze_mapper.joblib`

---

## тЦ╢я╕П Run Demo

р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Хр╣Бр╕ер╣Йр╕з р╣Гр╕лр╣Йр╕гр╕▒р╕Щр╣Вр╕Ыр╕гр╣Бр╕Бр╕гр╕бр╕лр╕ер╕▒р╕Б:

```bash
python main.py
```

р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Ир╕░р╣Ар╕Бр╕┤р╕Фр╕Вр╕╢р╣Йр╕Щ:

* р╕Бр╕ер╣Йр╕нр╕Зр╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Юр╕кр╕Ф
* YOLO р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕зр╕▒р╕Хр╕Цр╕╕р╣Бр╕ер╕░р╣Бр╕кр╕Фр╕З bounding box
* р╕Ир╕╕р╕Фр╕зр╕Зр╕Бр╕ер╕бр╕кр╕╡р╣Ар╕лр╕ер╕╖р╕нр╕З = р╕Хр╕│р╣Бр╕лр╕Щр╣Ир╕З gaze р╕Чр╕╡р╣Ир╕Др╕│р╕Щр╕зр╕Ур╣Др╕Фр╣Й
* р╕Бр╕гр╕нр╕Ър╕зр╕▒р╕Хр╕Цр╕╕р╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕кр╕╡р╣Ар╕бр╕╖р╣Ир╕нр╕Др╕╕р╕Ур╕бр╕нр╕З
* р╕Цр╣Йр╕▓р╕бр╕нр╕Зр╕Др╣Йр╕▓р╕Зр╕Чр╕╡р╣Ир╕зр╕▒р╕Хр╕Цр╕╕ тЙе300ms р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Вр╕╢р╣Йр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б **тАЬр╕Др╕╕р╕Ур╕Бр╕│р╕ер╕▒р╕Зр╕бр╕нр╕З: \[label]тАЭ**

---

## ЁЯУВ Project Structure

```
project/
тФЬтФА requirements.txt
тФЬтФА main.py               # loop р╕лр╕ер╕▒р╕Б
тФЬтФА gaze/
тФВ  тФЬтФА calibrate.py       # script р╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Х 9 р╕Ир╕╕р╕Ф
тФВ  тФЬтФА mapper.py          # р╣Вр╕лр╕ер╕Ф/р╕Юр╕вр╕▓р╕Бр╕гр╕Ур╣М gaze mapping
тФЬтФА vision/
тФВ  тФЬтФА detector.py        # YOLO detector
тФВ  тФЬтФА tracker.py         # Object tracker (DeepSORT/ByteTrack)
тФВ  тФФтФА associate.py       # р╕Ир╕▒р╕Ър╕Др╕╣р╣И gaze тЖФ object
тФФтФА data/
   тФЬтФА calib_samples.csv
   тФФтФА gaze_mapper.joblib
```

---

## тЪая╕П Known Issues & Tips

* **р╕Др╕зр╕▓р╕бр╣Бр╕бр╣Ир╕Щр╕вр╕│** р╕Вр╕╢р╣Йр╕Щр╕нр╕вр╕╣р╣Ир╕Бр╕▒р╕Ър╕Др╕╕р╕Ур╕ар╕▓р╕Юр╕Бр╕ер╣Йр╕нр╕З, р╣Бр╕кр╕Зр╕кр╕зр╣Ир╕▓р╕З, р╣Бр╕ер╕░р╕Бр╕▓р╕гр╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Х
* р╕Цр╣Йр╕▓р╕кр╕зр╕бр╣Бр╕зр╣Ир╕Щ тЖТ р╣Бр╕кр╕Зр╕кр╕░р╕Чр╣Йр╕нр╕Щр╕нр╕▓р╕Ир╕Чр╕│р╣Гр╕лр╣Й iris detection р╣Ар╕Юр╕╡р╣Йр╕вр╕Щ
* FPS р╕нр╕▓р╕Ир╕Хр╣Ир╕│р╕лр╕▓р╕Бр╣Гр╕Кр╣Й CPU тЖТ р╣Бр╕Щр╕░р╕Щр╕│р╣Гр╕лр╣Йр╣Гр╕Кр╣Й GPU (CUDA) р╕кр╕│р╕лр╕гр╕▒р╕Ъ YOLO
* mapping р╕Вр╕нр╕З gaze р╣Ар╕Ыр╣Зр╕Щ **per-user** р╕Хр╣Йр╕нр╕Зр╕Др╕▓р╕ер╕┤р╣Ар╕Ър╕гр╕Хр╣Гр╕лр╕бр╣Ир╕лр╕▓р╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й

---

## ЁЯЪА Future Work

* р╕гр╕нр╕Зр╕гр╕▒р╕Ъ World-based gaze mapping (AR glasses / external camera)
* р╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ **BLIP/CLIP** р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕Др╕│р╕нр╕Шр╕┤р╕Ър╕▓р╕вр╕зр╕▒р╕Хр╕Цр╕╕р╣Ар╕Ыр╣Зр╕Щр╕Ыр╕гр╕░р╣Вр╕вр╕Д
* р╣Ар╕Юр╕┤р╣Ир╕б **Text-to-Speech (TTS)** р╣Ар╕Юр╕╖р╣Ир╕нр╕нр╣Ир╕▓р╕Щр╕нр╕нр╕Бр╣Ар╕кр╕╡р╕вр╕Зр╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕бр╕нр╕З


